{"ast":null,"code":"var _jsxFileName = \"/Users/lawrenceoconnor/Downloads/3 tables/cop4331-helpinghand-mobile/screens/volunteetCard.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from \"react\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Card, ListItem, Icon, Button } from \"react-native-elements\";\nvar user_data;\n\n_retrieveData = function _retrieveData() {\n  var value;\n  return _regeneratorRuntime.async(function _retrieveData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem('user_data'));\n\n        case 3:\n          value = _context.sent;\n\n          if (value !== null) {\n            user_data = JSON.parse(localStorage.getItem(\"user_data\"));\n            console.log(value);\n          }\n\n          _context.next = 9;\n          break;\n\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 7]], Promise);\n};\n\n_retrieveData();\n\nexport default function CoordCard(props) {\n  var navigation = useNavigation();\n\n  function closeTask() {\n    function close() {\n      var obj, js, response, res;\n      return _regeneratorRuntime.async(function close$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log(user_data.email);\n              obj = {\n                email: user_data.email,\n                taskID: props.id\n              };\n              js = JSON.stringify(obj);\n              console.log(js);\n\n              if (!window.confirm(\"Are you sure you want to remove this task?\")) {\n                _context2.next = 27;\n                break;\n              }\n\n              _context2.prev = 5;\n              _context2.next = 8;\n              return _regeneratorRuntime.awrap(fetch(\"https://helpinghand-cop4331.herokuapp.com/vol/removeTask\", {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                },\n                body: js\n              }));\n\n            case 8:\n              response = _context2.sent;\n              _context2.t0 = JSON;\n              _context2.next = 12;\n              return _regeneratorRuntime.awrap(response.text());\n\n            case 12:\n              _context2.t1 = _context2.sent;\n              res = _context2.t0.parse.call(_context2.t0, _context2.t1);\n\n              if (!(res.success != true)) {\n                _context2.next = 18;\n                break;\n              }\n\n              console.log(res.error);\n              _context2.next = 21;\n              break;\n\n            case 18:\n              console.log(res.success);\n              console.log(\"success\");\n              return _context2.abrupt(\"return\", res);\n\n            case 21:\n              _context2.next = 27;\n              break;\n\n            case 23:\n              _context2.prev = 23;\n              _context2.t2 = _context2[\"catch\"](5);\n              console.log(_context2.t2.toString());\n              return _context2.abrupt(\"return\");\n\n            case 27:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[5, 23]], Promise);\n    }\n\n    close();\n    navigation.navigate(\"Refresh\");\n    setTimeout(function () {\n      navigation.navigate(\"VolunteerTasks\");\n    }, 400);\n    ;\n    console.log(\"clicked close task\");\n  }\n\n  return React.createElement(Card, {\n    borderRadius: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, React.createElement(Card.Title, {\n    style: {\n      fontSize: 20,\n      marginBottom: 2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, props.name), React.createElement(Card.Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }), React.createElement(Text, {\n    style: {\n      marginBottom: 10,\n      color: \"#808080\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, \"Date: \" + props.task_date + \"       \" + props.address + \"       Volunteers Needed: \" + props.numVol), React.createElement(Text, {\n    style: {\n      marginBottom: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, props.description), React.createElement(Button, {\n    icon: React.createElement(Icon, {\n      name: \"check\",\n      color: \"#ffffff\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    }),\n    onPress: function onPress() {\n      return closeTask();\n    },\n    buttonStyle: {\n      borderRadius: 10,\n      marginLeft: 0,\n      marginRight: 0,\n      marginBottom: 0,\n      backgroundColor: \"#013d38\"\n    },\n    title: \"Done\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/lawrenceoconnor/Downloads/3 tables/cop4331-helpinghand-mobile/screens/volunteetCard.js"],"names":["React","useNavigation","Card","ListItem","Icon","Button","user_data","_retrieveData","AsyncStorage","getItem","value","JSON","parse","localStorage","console","log","CoordCard","props","navigation","closeTask","close","email","obj","taskID","id","js","stringify","window","confirm","fetch","method","headers","body","response","text","res","success","error","toString","navigate","setTimeout","fontSize","marginBottom","name","color","task_date","address","numVol","description","borderRadius","marginLeft","marginRight","backgroundColor"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport {\n  View,\n  Text,\n  TouchableOpacity,\n  TextInput,\n  Platform,\n  StyleSheet,\n} from \"react-native\";\n\nimport { Card, ListItem, Icon, Button } from \"react-native-elements\";\nvar user_data;\n\n\n_retrieveData = async () => {\n  try {\n    const value = await AsyncStorage.getItem('user_data');\n    if (value !== null) {\n      user_data= JSON.parse(localStorage.getItem(\"user_data\"))\n      console.log(value);\n    }\n  } catch (error) {\n    // Error retrieving data\n  }\n};\n_retrieveData();\n\n\nexport default function CoordCard(props) {\n  const navigation = useNavigation();\n  function closeTask() {\n    async function close(){\n      console.log(user_data.email)\n      var obj = {email:user_data.email,taskID:props.id};\n      var js=JSON.stringify(obj);\n      console.log(js);\n\n      if (window.confirm(\"Are you sure you want to remove this task?\")) {\n      try{\n        const response = await fetch(\"https://helpinghand-cop4331.herokuapp.com/vol/removeTask\",{\n          method: \"POST\",\n          headers: {\"Content-Type\" : \"application/json\"},\n          body : js,\n        });\n        var res=JSON.parse(await response.text() );\n        if (res.success != true){\n          console.log(res.error);\n        } else{\n          console.log(res.success);\n          console.log(\"success\");\n          return res;\n        }\n      } catch (e){\n        console.log((e.toString()));\n        return ;\n      }\n      \n    }\n    \n    }\n      //test\n    close();\n    navigation.navigate(\"Refresh\");\n      setTimeout(function(){\n        navigation.navigate(\"VolunteerTasks\");\n      }, 400);\n     ;\n  //make api call to close task\n  //pass task id i assume\n  console.log(\"clicked close task\");\n}\n\n\n\n  return (\n    <Card borderRadius={5}>\n      <Card.Title style={{ fontSize: 20, marginBottom: 2 }}>\n        {props.name}\n      </Card.Title>\n      <Card.Divider />\n      <Text style={{ marginBottom: 10, color: \"#808080\" }}>\n        {\"Date: \"+props.task_date+\"       \"+ props.address + \"       Volunteers Needed: \"+ props.numVol }\n      </Text>\n      \n      <Text style={{ marginBottom: 10 }}>{props.description}</Text>\n      <Button\n        icon={<Icon name=\"check\" color=\"#ffffff\" />}\n        onPress={() => closeTask()}\n        buttonStyle={{\n          borderRadius: 10,\n          marginLeft: 0,\n          marginRight: 0,\n          marginBottom: 0,\n          backgroundColor: \"#013d38\",\n        }}\n        title=\"Done\"\n      />\n    </Card>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}