{"ast":null,"code":"var _jsxFileName = \"/Users/lawrenceoconnor/Downloads/3 tables/cop4331-helpinghand-mobile/screens/coordCard.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Card, ListItem, Icon, Button } from \"react-native-elements\";\nvar user_data = JSON.parse(localStorage.getItem(\"user_data\"));\nvar user_email = user_data.email;\nexport default function CoordCard(props) {\n  function closeTask() {\n    function close() {\n      var obj, js, response, res;\n      return _regeneratorRuntime.async(function close$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(user_email);\n              obj = {\n                email: user_data.email,\n                taskID: props.id\n              };\n              js = JSON.stringify(obj);\n              console.log(js);\n\n              if (!window.confirm(\"Are you sure you want to delete this task?\")) {\n                _context.next = 28;\n                break;\n              }\n\n              _context.prev = 5;\n              _context.next = 8;\n              return _regeneratorRuntime.awrap(fetch(\"https://helpinghand-cop4331.herokuapp.com/task/remove\", {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                },\n                body: js\n              }));\n\n            case 8:\n              response = _context.sent;\n              _context.t0 = JSON;\n              _context.next = 12;\n              return _regeneratorRuntime.awrap(response.text());\n\n            case 12:\n              _context.t1 = _context.sent;\n              res = _context.t0.parse.call(_context.t0, _context.t1);\n\n              if (!(res.success != true)) {\n                _context.next = 18;\n                break;\n              }\n\n              console.log(res.error);\n              _context.next = 22;\n              break;\n\n            case 18:\n              console.log(res.success);\n              console.log(\"success\");\n\n              if (res != \"nos such user found\") {\n                setPosts(res);\n              } else {\n                console.log(\"The call might have failed above buts its okay, there were no tasks\");\n              }\n\n              return _context.abrupt(\"return\", res);\n\n            case 22:\n              _context.next = 28;\n              break;\n\n            case 24:\n              _context.prev = 24;\n              _context.t2 = _context[\"catch\"](5);\n              console.log(_context.t2.toString());\n              return _context.abrupt(\"return\");\n\n            case 28:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[5, 24]], Promise);\n    }\n\n    close();\n    ;\n    console.log(\"clicked close task\");\n  }\n\n  console.log(props.id);\n  console.log(props.address);\n  return React.createElement(Card, {\n    borderRadius: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, React.createElement(Card.Title, {\n    style: {\n      fontSize: 20,\n      marginBottom: 2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, \" \", props.name), React.createElement(Card.Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }), React.createElement(Text, {\n    style: {\n      marginBottom: 10,\n      color: \"#808080\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, props.numVol + \" Slots Left \" + \" --- \" + props.maxVol + \" Total Slots\"), React.createElement(Text, {\n    style: {\n      marginBottom: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, props.description), React.createElement(Text, {\n    style: {\n      marginBottom: 10,\n      color: \"#808080\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, props.address), React.createElement(Button, {\n    icon: React.createElement(Icon, {\n      name: \"check\",\n      color: \"#ffffff\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }),\n    onPress: function onPress() {\n      return closeTask();\n    },\n    buttonStyle: {\n      borderRadius: 10,\n      marginLeft: 0,\n      marginRight: 0,\n      marginBottom: 0,\n      backgroundColor: \"#013d38\"\n    },\n    title: \"Close Task\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/lawrenceoconnor/Downloads/3 tables/cop4331-helpinghand-mobile/screens/coordCard.js"],"names":["React","Card","ListItem","Icon","Button","user_data","JSON","parse","localStorage","getItem","user_email","email","CoordCard","props","closeTask","close","console","log","obj","taskID","id","js","stringify","window","confirm","fetch","method","headers","body","response","text","res","success","error","setPosts","toString","address","fontSize","marginBottom","name","color","numVol","maxVol","description","borderRadius","marginLeft","marginRight","backgroundColor"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  View,\n  Text,\n  TouchableOpacity,\n  TextInput,\n  Platform,\n  StyleSheet,\n} from \"react-native\";\n\nimport { Card, ListItem, Icon, Button } from \"react-native-elements\";\nvar user_data= JSON.parse(localStorage.getItem(\"user_data\"));\nvar user_email = user_data.email;\n\n\nexport default function CoordCard(props) {\n\n  \n     function closeTask() {\n      async function close(){\n        console.log(user_email)\n        var obj = {email:user_data.email,taskID:props.id};\n        var js=JSON.stringify(obj);\n        console.log(js);\n\n        if (window.confirm(\"Are you sure you want to delete this task?\")) {\n        try{\n          const response = await fetch(\"https://helpinghand-cop4331.herokuapp.com/task/remove\",{\n            method: \"POST\",\n            headers: {\"Content-Type\" : \"application/json\"},\n            body : js,\n          });\n          var res=JSON.parse(await response.text() );\n          if (res.success != true){\n            console.log(res.error);\n          } else{\n            console.log(res.success);\n            console.log(\"success\");\n            \n            if(res != \"nos such user found\"){\n              setPosts(res);\n            } else{\n              console.log(\"The call might have failed above buts its okay, there were no tasks\");\n            }\n            return res;\n          }\n        } catch (e){\n          console.log((e.toString()));\n          return ;\n        }\n        \n      }\n      \n      }\n        //test\n      close();\n       ;\n    //make api call to close task\n    //pass task id i assume\n    console.log(\"clicked close task\");\n  }\n\n\n\n  console.log(props.id)\n  console.log(props.address)\n  return (\n    <Card borderRadius={5}>\n      <Card.Title style={{ fontSize: 20, marginBottom: 2 }}>\n        {\" \"}\n        {props.name}\n      </Card.Title>\n      <Card.Divider />\n    \n      <Text style={{ marginBottom: 10, color: \"#808080\" }}>\n        {props.numVol + \" Slots Left \" +\" --- \" + props.maxVol + \" Total Slots\"}\n      </Text>\n      <Text style={{ marginBottom: 10 }}>{props.description}</Text>\n      <Text style={{ marginBottom: 10, color: \"#808080\" }}>{props.address}\n      </Text>\n      <Button\n        icon={<Icon name=\"check\" color=\"#ffffff\" />}\n        onPress={() => closeTask()}\n        buttonStyle={{\n          borderRadius: 10,\n          marginLeft: 0,\n          marginRight: 0,\n          marginBottom: 0,\n          backgroundColor: \"#013d38\",\n        }}\n        title=\"Close Task\"\n      />\n    </Card>\n  );\n}\n\n    \n"]},"metadata":{},"sourceType":"module"}