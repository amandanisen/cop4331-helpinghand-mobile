{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/lawrenceoconnor/Downloads/3 tables/cop4331-helpinghand-mobile/screens/login.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport * as Animatable from \"react-native-animatable\";\nimport Feather from \"@expo/vector-icons/Feather\";\nimport RadioForm, { RadioButton, RadioButtonInput, RadioButtonLabel } from \"react-native-simple-radio-button\";\n\nvar SignInScreen = function SignInScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _React$useState = React.useState({\n    username: \"\",\n    password: \"\",\n    check_textInputChange: false,\n    secureTextEntry: true,\n    isValidUser: true,\n    isValidPassword: true,\n    role: \"volunteer\"\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      data = _React$useState2[0],\n      setData = _React$useState2[1];\n\n  var radio_props = [{\n    label: \"Volunteer     \",\n    value: \"volunteer\"\n  }, {\n    label: \"Coordinator     \",\n    value: \"coordinator\"\n  }];\n\n  var handleRadioButtonChange = function handleRadioButtonChange(val) {\n    setData(_objectSpread(_objectSpread({}, data), {}, {\n      role: val\n    }));\n  };\n\n  var textInputChange = function textInputChange(val) {\n    if (val.trim().length >= 4) {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        username: val,\n        check_textInputChange: true,\n        isValidUser: true\n      }));\n    } else {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        username: val,\n        check_textInputChange: false,\n        isValidUser: false\n      }));\n    }\n  };\n\n  var handlePasswordChange = function handlePasswordChange(val) {\n    if (val.trim().length >= 8) {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        password: val,\n        isValidPassword: true\n      }));\n    } else {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        password: val,\n        isValidPassword: false\n      }));\n    }\n  };\n\n  var updateSecureTextEntry = function updateSecureTextEntry() {\n    setData(_objectSpread(_objectSpread({}, data), {}, {\n      secureTextEntry: !data.secureTextEntry\n    }));\n  };\n\n  var handleValidUser = function handleValidUser(val) {\n    if (val.trim().length >= 4) {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        isValidUser: true\n      }));\n    } else {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        isValidUser: false\n      }));\n    }\n  };\n\n  var loginHandle = function loginHandle(userName, password) {\n    console.log(data.role);\n\n    function login() {\n      var obj, js, response, res, user;\n      return _regeneratorRuntime.async(function login$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              obj = {\n                email: userName,\n                password: password\n              };\n              js = JSON.stringify(obj);\n              _context.prev = 2;\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(fetch(\"https://helpinghand-cop4331.herokuapp.com/vol/login\", {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                },\n                body: js\n              }));\n\n            case 5:\n              response = _context.sent;\n              _context.t0 = JSON;\n              _context.next = 9;\n              return _regeneratorRuntime.awrap(response.text());\n\n            case 9:\n              _context.t1 = _context.sent;\n              res = _context.t0.parse.call(_context.t0, _context.t1);\n\n              if (res.error != null) {\n                console.log(res.error);\n                console.log(res.email);\n              } else {\n                user = {\n                  first_name: res.first_name,\n                  last_name: res.last_name,\n                  id: res.id,\n                  email: res.email\n                };\n                localStorage.setItem(\"user_data\", JSON.stringify(user));\n                console.log(user.email);\n\n                if (res.id != -1 && data.role == \"volunteer\" && res.id != null) {\n                  navigation.navigate(\"VolunteerTasks\");\n                }\n\n                if (res.id != -1 && data.role == \"coordinator\" && res.id != null) {\n                  navigation.navigate(\"CoordinatorTasks\");\n                }\n\n                if (res.id == -1) alert(\"incorrect username or password\");\n              }\n\n              console.log(res);\n              console.log(res.id);\n              _context.next = 20;\n              break;\n\n            case 16:\n              _context.prev = 16;\n              _context.t2 = _context[\"catch\"](2);\n              alert(_context.t2.toString());\n              return _context.abrupt(\"return\");\n\n            case 20:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[2, 16]], Promise);\n    }\n\n    login();\n    ;\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 5\n    }\n  }, React.createElement(StatusBar, {\n    backgroundColor: \"#009387\",\n    barStyle: \"light-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: styles.header,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.text_header,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, \"Welcome!\")), React.createElement(Animatable.View, {\n    animation: \"fadeInUpBig\",\n    style: [styles.footer, {\n      backgroundColor: \"#f7f7f7\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: [styles.text_footer, {\n      color: \"#1B1534\",\n      marginTop: 35\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  }, \"Username\"), React.createElement(View, {\n    style: styles.action,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }\n  }, React.createElement(TextInput, {\n    placeholder: \"Your Username\",\n    placeholderTextColor: \"#666666\",\n    style: [styles.textInput, {\n      color: \"#1B1534\"\n    }],\n    autoCapitalize: \"none\",\n    onChangeText: function onChangeText(val) {\n      return textInputChange(val);\n    },\n    onEndEditing: function onEndEditing(e) {\n      return handleValidUser(e.nativeEvent.text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 11\n    }\n  }), data.check_textInputChange ? React.createElement(Animatable.View, {\n    animation: \"bounceIn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }, React.createElement(Feather, {\n    name: \"check-circle\",\n    color: \"green\",\n    size: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 15\n    }\n  })) : null), data.isValidUser ? null : React.createElement(Animatable.View, {\n    animation: \"fadeInLeft\",\n    duration: 500,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.errorMsg,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }\n  }, \"Username must be 4 characters long.\")), React.createElement(Text, {\n    style: [styles.text_footer, {\n      color: \"#1B1534\",\n      marginTop: 35\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }\n  }, \"Password\"), React.createElement(View, {\n    style: styles.action,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 9\n    }\n  }, React.createElement(Feather, {\n    name: \"lock\",\n    color: \"#08d4c4\",\n    size: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 11\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"Your Password\",\n    placeholderTextColor: \"#666666\",\n    secureTextEntry: data.secureTextEntry ? true : false,\n    style: [styles.textInput, {\n      color: \"#08d4c4\"\n    }],\n    autoCapitalize: \"none\",\n    onChangeText: function onChangeText(val) {\n      return handlePasswordChange(val);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 11\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: updateSecureTextEntry,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 11\n    }\n  }, data.secureTextEntry ? React.createElement(Feather, {\n    name: \"eye-off\",\n    color: \"grey\",\n    size: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 15\n    }\n  }) : React.createElement(Feather, {\n    name: \"eye\",\n    color: \"grey\",\n    size: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 15\n    }\n  }))), data.isValidPassword ? null : React.createElement(Animatable.View, {\n    animation: \"fadeInLeft\",\n    duration: 500,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.errorMsg,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 13\n    }\n  }, \"Password must be 8 characters long.\")), React.createElement(TouchableOpacity, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#009387\",\n      marginTop: 15\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 11\n    }\n  }, \"Forgot password?\")), React.createElement(RadioForm, {\n    radio_props: radio_props,\n    initial: 0,\n    formHorizontal: true,\n    labelHorizontal: true,\n    buttonColor: \"#009387\",\n    animation: true,\n    buttonSize: 10,\n    onPress: function onPress(val) {\n      return handleRadioButtonChange(val);\n    },\n    style: {\n      marginTop: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: styles.button,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      loginHandle(data.username, data.password);\n    },\n    style: [styles.signIn, {\n      borderColor: \"#009387\",\n      borderWidth: 1,\n      marginTop: 15\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: [styles.textSign, {\n      color: \"#009387\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 13\n    }\n  }, \"Sign in\")))));\n};\n\nexport default SignInScreen;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#009387\"\n  },\n  header: {\n    flex: 1,\n    justifyContent: \"flex-end\",\n    paddingHorizontal: 20,\n    paddingBottom: 10\n  },\n  footer: {\n    flex: 3,\n    backgroundColor: \"#fff\",\n    borderTopLeftRadius: 30,\n    borderTopRightRadius: 30,\n    paddingHorizontal: 20,\n    paddingVertical: 10\n  },\n  text_header: {\n    color: \"#fff\",\n    fontWeight: \"bold\",\n    fontSize: 30\n  },\n  text_footer: {\n    color: \"#05375a\",\n    fontSize: 18\n  },\n  action: {\n    flexDirection: \"row\",\n    marginTop: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: \"#f2f2f2\",\n    paddingBottom: 5\n  },\n  actionError: {\n    flexDirection: \"row\",\n    marginTop: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: \"#FF0000\",\n    paddingBottom: 5\n  },\n  textInput: {\n    flex: 1,\n    marginTop: Platform.OS === \"ios\" ? 0 : -12,\n    paddingLeft: 10,\n    color: \"#05375a\"\n  },\n  errorMsg: {\n    color: \"#FF0000\",\n    fontSize: 14\n  },\n  button: {\n    alignItems: \"center\",\n    marginTop: 50\n  },\n  signIn: {\n    width: \"100%\",\n    height: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 10\n  },\n  textSign: {\n    fontSize: 18,\n    fontWeight: \"bold\"\n  }\n});","map":{"version":3,"sources":["/Users/lawrenceoconnor/Downloads/3 tables/cop4331-helpinghand-mobile/screens/login.js"],"names":["React","Animatable","Feather","RadioForm","RadioButton","RadioButtonInput","RadioButtonLabel","SignInScreen","navigation","useState","username","password","check_textInputChange","secureTextEntry","isValidUser","isValidPassword","role","data","setData","radio_props","label","value","handleRadioButtonChange","val","textInputChange","trim","length","handlePasswordChange","updateSecureTextEntry","handleValidUser","loginHandle","userName","console","log","login","obj","email","js","JSON","stringify","fetch","method","headers","body","response","text","res","parse","error","user","first_name","last_name","id","localStorage","setItem","navigate","alert","toString","styles","container","header","text_header","footer","backgroundColor","text_footer","color","marginTop","action","textInput","e","nativeEvent","errorMsg","button","signIn","borderColor","borderWidth","textSign","StyleSheet","create","flex","justifyContent","paddingHorizontal","paddingBottom","borderTopLeftRadius","borderTopRightRadius","paddingVertical","fontWeight","fontSize","flexDirection","borderBottomWidth","borderBottomColor","actionError","Platform","OS","paddingLeft","alignItems","width","height","borderRadius"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  View,\n  Text,\n  TouchableOpacity,\n  TextInput,\n  Platform,\n  StyleSheet,\n  StatusBar,\n  Alert,\n} from \"react-native\";\nimport * as Animatable from \"react-native-animatable\";\nimport Feather from \"react-native-vector-icons/Feather\";\nimport RadioForm, {\n  RadioButton,\n  RadioButtonInput,\n  RadioButtonLabel,\n} from \"react-native-simple-radio-button\";\n\nconst SignInScreen = ({ navigation }) => {\n  const [data, setData] = React.useState({\n    username: \"\",\n    password: \"\",\n    check_textInputChange: false,\n    secureTextEntry: true,\n    isValidUser: true,\n    isValidPassword: true,\n    role: \"volunteer\",\n  });\n\n  var radio_props = [\n    { label: \"Volunteer     \", value: \"volunteer\" },\n    { label: \"Coordinator     \", value: \"coordinator\"},\n  ];\n\n  const handleRadioButtonChange = (val) => {\n      setData({\n        ...data,\n        role: val,\n      });\n    } \n\n\n  const textInputChange = (val) => {\n    if (val.trim().length >= 4) {\n      setData({\n        ...data,\n        username: val,\n        check_textInputChange: true,\n        isValidUser: true,\n      });\n    } else {\n      setData({\n        ...data,\n        username: val,\n        check_textInputChange: false,\n        isValidUser: false,\n      });\n    }\n  };\n\n  const handlePasswordChange = (val) => {\n    if (val.trim().length >= 8) {\n      setData({\n        ...data,\n        password: val,\n        isValidPassword: true,\n      });\n    } else {\n      setData({\n        ...data,\n        password: val,\n        isValidPassword: false,\n      });\n    }\n  };\n\n  const updateSecureTextEntry = () => {\n    setData({\n      ...data,\n      secureTextEntry: !data.secureTextEntry,\n    });\n  };\n\n  const handleValidUser = (val) => {\n    if (val.trim().length >= 4) {\n      setData({\n        ...data,\n        isValidUser: true,\n      });\n    } else {\n      setData({\n        ...data,\n        isValidUser: false,\n      });\n    }\n  };\n\n  \n  const loginHandle = (userName, password) => {\n    //console.log(userName)\n    //console.log(password)\n    console.log(data.role)\n      async function login(){\n        var obj = {email:userName,password:password};\n        var js=JSON.stringify(obj);\n        //console.log(js);\n        try{\n          const response = await fetch(\"https://helpinghand-cop4331.herokuapp.com/vol/login\",{\n            method: \"POST\",\n            headers: {\"Content-Type\" : \"application/json\"},\n            body : js,\n          });\n          var res=JSON.parse(await response.text() );\n          if (res.error != null){\n            console.log(res.error);\n            console.log(res.email)\n          } else{\n            var user = {\n              first_name: res.first_name,\n              last_name: res.last_name,\n              id: res.id,\n              email:res.email\n            };\n            \n            localStorage.setItem(\"user_data\", JSON.stringify(user));  \n            console.log(user.email)\n            \n             if(res.id!=-1 && data.role == \"volunteer\" && res.id!=null)\n            { navigation.navigate(\"VolunteerTasks\");}\n\n\n            if(res.id!=-1 && data.role == \"coordinator\" && res.id!=null)\n            { navigation.navigate(\"CoordinatorTasks\");}\n\n\n            if(res.id== -1)\n            alert(\"incorrect username or password\")\n          }\n            console.log(res)\n            console.log(res.id)\n        } catch (e){\n          alert(e.toString());\n          return ;\n        }\n      }\n        //test\n      login();\n   ;\n    //handleMessage(null);\n  };\n\n  \n  return (\n    <View style={styles.container}>\n      <StatusBar backgroundColor=\"#009387\" barStyle=\"light-content\" />\n      <View style={styles.header}>\n        <Text style={styles.text_header}>Welcome!</Text>\n      </View>\n      <Animatable.View\n        animation=\"fadeInUpBig\"\n        style={[\n          styles.footer,\n          {\n            backgroundColor: \"#f7f7f7\",\n          },\n        ]}\n      >\n        <Text\n          style={[\n            styles.text_footer,\n            {\n              color: \"#1B1534\",\n              marginTop: 35,\n            },\n          ]}\n        >\n          Username\n        </Text>\n        <View style={styles.action}>\n          <TextInput\n            placeholder=\"Your Username\"\n            placeholderTextColor=\"#666666\"\n            style={[\n              styles.textInput,\n              {\n                color: \"#1B1534\",\n              },\n            ]}\n            autoCapitalize=\"none\"\n            onChangeText={(val) => textInputChange(val)}\n            onEndEditing={(e) => handleValidUser(e.nativeEvent.text)}\n          />\n          {data.check_textInputChange ? (\n            <Animatable.View animation=\"bounceIn\">\n              <Feather name=\"check-circle\" color=\"green\" size={20} />\n            </Animatable.View>\n          ) : null}\n        </View>\n        {data.isValidUser ? null : (\n          <Animatable.View animation=\"fadeInLeft\" duration={500}>\n            <Text style={styles.errorMsg}>\n              Username must be 4 characters long.\n            </Text>\n          </Animatable.View>\n        )}\n\n        <Text\n          style={[\n            styles.text_footer,\n            {\n              color: \"#1B1534\",\n              marginTop: 35,\n            },\n          ]}\n        >\n          Password\n        </Text>\n        <View style={styles.action}>\n          <Feather name=\"lock\" color=\"#08d4c4\" size={20} />\n          <TextInput\n            placeholder=\"Your Password\"\n            placeholderTextColor=\"#666666\"\n            secureTextEntry={data.secureTextEntry ? true : false}\n            style={[\n              styles.textInput,\n              {\n                color: \"#08d4c4\",\n              },\n            ]}\n            autoCapitalize=\"none\"\n            onChangeText={(val) => handlePasswordChange(val)}\n          />\n          <TouchableOpacity onPress={updateSecureTextEntry}>\n            {data.secureTextEntry ? (\n              <Feather name=\"eye-off\" color=\"grey\" size={20} />\n            ) : (\n              <Feather name=\"eye\" color=\"grey\" size={20} />\n            )}\n          </TouchableOpacity>\n\n        </View>\n        {data.isValidPassword ? null : (\n          <Animatable.View animation=\"fadeInLeft\" duration={500}>\n            <Text style={styles.errorMsg}>\n              Password must be 8 characters long.\n            </Text>\n          </Animatable.View>\n        )}\n\n        <TouchableOpacity>\n          <Text style={{ color: \"#009387\", marginTop: 15 }}>\n            Forgot password?\n          </Text>\n        </TouchableOpacity>\n\n        <RadioForm\n            radio_props={radio_props}\n            initial={0}\n            formHorizontal={true}\n            labelHorizontal={true}\n            buttonColor={\"#009387\"}\n            animation={true}\n            buttonSize={10}\n         \n            onPress={(val) => handleRadioButtonChange(val)}\n            style={{marginTop: 20 }}\n            />\n        <View style={styles.button}>\n          <TouchableOpacity\n            onPress={() => {\n                loginHandle(data.username, data.password);\n              }}\n            style={[\n              styles.signIn,\n              {\n                borderColor: \"#009387\",\n                borderWidth: 1,\n                marginTop: 15,\n              },\n            ]}\n          >\n            <Text\n              style={[\n                styles.textSign,\n                {\n                  color: \"#009387\",\n                },\n              ]}\n            >\n              Sign in\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </Animatable.View>\n    </View>\n  );\n};\n\nexport default SignInScreen;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#009387\",\n  },\n  header: {\n    flex: 1,\n    justifyContent: \"flex-end\",\n    paddingHorizontal: 20,\n    paddingBottom: 10,\n  },\n  footer: {\n    flex: 3,\n    backgroundColor: \"#fff\",\n    borderTopLeftRadius: 30,\n    borderTopRightRadius: 30,\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n  },\n  text_header: {\n    color: \"#fff\",\n    fontWeight: \"bold\",\n    fontSize: 30,\n  },\n  text_footer: {\n    color: \"#05375a\",\n    fontSize: 18,\n  },\n  action: {\n    flexDirection: \"row\",\n    marginTop: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: \"#f2f2f2\",\n    paddingBottom: 5,\n  },\n  actionError: {\n    flexDirection: \"row\",\n    marginTop: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: \"#FF0000\",\n    paddingBottom: 5,\n  },\n  textInput: {\n    flex: 1,\n    marginTop: Platform.OS === \"ios\" ? 0 : -12,\n    paddingLeft: 10,\n    color: \"#05375a\",\n  },\n  errorMsg: {\n    color: \"#FF0000\",\n    fontSize: 14,\n  },\n  button: {\n    alignItems: \"center\",\n    marginTop: 50,\n  },\n  signIn: {\n    width: \"100%\",\n    height: 50,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 10,\n  },\n  textSign: {\n    fontSize: 18,\n    fontWeight: \"bold\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}